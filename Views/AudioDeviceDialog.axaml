<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:NetKeyer.ViewModels"
        xmlns:res="clr-namespace:NetKeyer.Resources.Strings"
        x:Class="NetKeyer.Views.AudioDeviceDialog"
        x:DataType="vm:AudioDeviceDialogViewModel"
        Title="{x:Static res:Resources.AudioDevice_Title}"
        Width="500" Height="350"
        MinWidth="400" MinHeight="230"
        WindowStartupLocation="CenterOwner"
        CanResize="false">

    <Grid Margin="15" RowDefinitions="Auto,*,Auto">

        <!-- Title and Instructions -->
        <StackPanel Grid.Row="0" Spacing="8" Margin="0,0,0,15">
            <TextBlock Text="{x:Static res:Resources.AudioDevice_Title}"
                       FontSize="18"
                       FontWeight="Bold"/>
            <TextBlock Text="{x:Static res:Resources.AudioDevice_Instructions}"
                       FontSize="12"
                       Foreground="Gray"
                       TextWrapping="Wrap"/>
        </StackPanel>

        <!-- Device Selection -->
        <Border Grid.Row="1"
                BorderBrush="Gray"
                BorderThickness="1"
                Padding="12"
                CornerRadius="3">
            <StackPanel Spacing="10">
                <TextBlock Text="{x:Static res:Resources.AudioDevice_Label}"
                           FontWeight="SemiBold"
                           FontSize="13"/>

                <StackPanel Orientation="Horizontal" Spacing="10">
                    <ComboBox ItemsSource="{Binding AudioDevices}"
                              SelectedItem="{Binding SelectedAudioDevice}"
                              Width="320"
                              PlaceholderText="{x:Static res:Resources.AudioDevice_Placeholder}"/>
                    <Button Content="{x:Static res:Resources.AudioDevice_Refresh}"
                            Command="{Binding RefreshAudioDevicesCommand}"
                            Width="80"
                            HorizontalContentAlignment="Center"
                            Padding="6"/>
                </StackPanel>

                <CheckBox Content="{x:Static res:Resources.AudioDevice_AggressiveLowLatency}"
                          IsChecked="{Binding AggressiveLowLatency}"
                          IsVisible="{Binding IsWindowsOnly}"
                          FontSize="11"
                          Foreground="Gray"
                          Margin="0,10,0,0"/>
                <TextBlock Text="{x:Static res:Resources.AudioDevice_AggressiveEnabled}"
                           FontSize="10"
                           Foreground="DarkGray"
                           TextWrapping="Wrap"
                           Margin="20,3,0,0"
                           IsVisible="{Binding IsWindowsOnly}"/>
                <TextBlock Text="{x:Static res:Resources.AudioDevice_AggressiveDisabled}"
                           FontSize="10"
                           Foreground="DarkGray"
                           TextWrapping="Wrap"
                           Margin="20,2,0,0"
                           IsVisible="{Binding IsWindowsOnly}"/>
            </StackPanel>
        </Border>

        <!-- Buttons -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Spacing="10"
                    Margin="0,15,0,0">
            <Button Name="CancelButton"
                    Content="{x:Static res:Resources.AudioDevice_Cancel}"
                    Width="80"
                    HorizontalContentAlignment="Center"
                    Padding="6"
                    Click="CancelButton_Click"/>
            <Button Name="OkButton"
                    Content="{x:Static res:Resources.AudioDevice_OK}"
                    Width="80"
                    HorizontalContentAlignment="Center"
                    Padding="6"
                    Click="OkButton_Click"
                    IsDefault="True"/>
        </StackPanel>
    </Grid>
</Window>
